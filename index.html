<!DOCTYPE html><html>

<head>
  <title>Hearthstone Ladder Sim</title>
  <link rel="shortcut icon" href="favicon.ico">
  <meta name="viewport" content="width=700">
</head>

<body style="background-color:white"><center>
  <table><tr>
    <td><canvas id="canvas"></canvas></td>
    <td><a id="winpercentage">Chance of game win: 100%</a></td>
  </tr></table>
</center></body>

</html>

<script type="text/javascript">
var fps=60;

var rank=[]; for(i=0; i<25; i++){rank[i]=new Image(); rank[i].src="images/"+(i+1)+".png";}
var r={w:85, h:0}; r.h=185*r.w/141;
var yspacer=25;

var point=new Image(); point.src="images/star.png";
var slot=new Image(); slot.src="images/slot.png";

var stargot=[]; for(i=0; i<95; i++){stargot[i]=0}
var s={w:19, h:0}; s.h=69*s.w/73;

var field={width:r.w*5, height:(r.h+yspacer)*5};
var canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d"); canvas.width = field.width; canvas.height = field.height;

function frame(){

  ctx.fillStyle="#000000";
  ctx.fillRect(0,0,field.width,field.height);

  var xpos=0, ypos=0;

  for(i=0; i<25; i++){

    xpos=r.w*(i%5);
    ypos=(r.h+yspacer)*Math.floor(i/5)+yspacer;
    ctx.drawImage(rank[24-i], xpos,ypos,r.w,r.h);

    if(i<5){
      if(stargot[i*2]){ctx.drawImage(point, xpos+r.w/2-s.w/2-11, ypos-16,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-11, ypos-16,s.w,s.h);}
      if(stargot[1+i*2]){ctx.drawImage(point, xpos+r.w/2-s.w/2+11, ypos-16,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+11, ypos-16,s.w,s.h);}
    }

    else if(i>4 && i<10){
      if(stargot[10+(i-5)*3]){ctx.drawImage(point, xpos+r.w/2-s.w/2-25, ypos-18+10,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-25, ypos-18+10,s.w,s.h);}
      if(stargot[11+(i-5)*3]){ctx.drawImage(point, xpos+r.w/2-s.w/2, ypos-18,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2, ypos-18,s.w,s.h);}
      if(stargot[12+(i-5)*3]){ctx.drawImage(point, xpos+r.w/2-s.w/2+25, ypos-18+10,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+25, ypos-18+10,s.w,s.h);}
    }

    else if(i>9 && i<15){
      if(stargot[25+(i-10)*4]){ctx.drawImage(point, xpos+r.w/2-s.w/2-30, ypos-5,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-30, ypos-5,s.w,s.h);}
      if(stargot[26+(i-10)*4]){ctx.drawImage(point, xpos+r.w/2-s.w/2-11, ypos-16,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-11, ypos-16,s.w,s.h);}
      if(stargot[27+(i-10)*4]){ctx.drawImage(point, xpos+r.w/2-s.w/2+11, ypos-16,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+11, ypos-16,s.w,s.h);}
      if(stargot[28+(i-10)*4]){ctx.drawImage(point, xpos+r.w/2-s.w/2+30, ypos-5,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+30, ypos-5,s.w,s.h);}
    }

    else{
      if(stargot[45+(i-15)*5]){ctx.drawImage(point, xpos+r.w/2-s.w/2-32, ypos-18+14,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-32, ypos-18+14,s.w,s.h);}
      if(stargot[46+(i-15)*5]){ctx.drawImage(point, xpos+r.w/2-s.w/2-16, ypos-18+6,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2-16, ypos-18+6,s.w,s.h);}
      if(stargot[47+(i-15)*5]){ctx.drawImage(point, xpos+r.w/2-s.w/2, ypos-18,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2, ypos-18,s.w,s.h);}
      if(stargot[48+(i-15)*5]){ctx.drawImage(point, xpos+r.w/2-s.w/2+16, ypos-18+6,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+16, ypos-18+6,s.w,s.h);}
      if(stargot[49+(i-15)*5]){ctx.drawImage(point, xpos+r.w/2-s.w/2+32, ypos-18+14,s.w,s.h);}
      else{ctx.drawImage(slot, xpos+r.w/2-s.w/2+32, ypos-18+14,s.w,s.h);}
    }

  }

	setTimeout(frame,1000/fps);

}

var totalstars=0;
var winp=100;
var speed=100;
var winratechange=0.5;
var streak=0;

function ladder(){
  if(100*Math.random()<winp){
    streak++;
    stargot[totalstars]=1;
    totalstars++;
    winp-=winratechange;
    if(streak>2 && totalstars<72){
      stargot[totalstars]=1;
      totalstars++;
      winp-=winratechange;
    }
  }
  else{
    streak=0;
    stargot[totalstars-1]=0;
    totalstars--;
    winp+=winratechange;
  }

  if(totalstars==95){}
  else{setTimeout(ladder, 10000/speed)}
}

frame();

setTimeout(ladder, 10000/speed)

</script>
